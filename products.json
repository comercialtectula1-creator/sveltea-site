// product.js - muestra la página de detalle según el id ?id=p01
const PRODUCTS = [
  {
    id: "p01",
    name: "Sveltea Esencia",
    price: 1000,
    short: "Refresca y revitaliza la piel con extractos naturales.",
    image: "Escencia.jpeg",
    link: "product-escencia.html"
  },
  {
    id: "p02",
    name: "Sveltea Renova 30 cápsulas",
    price: 1200,
    short: "Regenera desde adentro. Colágeno, antioxidantes y vitaminas.",
    image: "Renova.jpeg",
    link: "product.html?id=p02"
  },
  {
    id: "p03",
    name: "Sveltea Silueta",
    price: 1400,
    short: "Apoya el metabolismo y la definición corporal de forma natural.",
    image: "Silueta.jpeg",
    link: "product.html?id=p03"
  },
  {
    id: "p04",
    name: "Sveltea Define",
    price: 1000,
    short: "Moldea, tonifica y resalta tu figura con ingredientes selectos.",
    image: "Define.jpeg",
    link: "product.html?id=p04"
  }
];

// Renderiza el detalle
(function(){
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");
  const container = document.getElementById("productDetail");
  if(!container){
    console.warn("productDetail element not found");
    return;
  }

  if (PRODUCT_DETAILS[id]) {
    const p = PRODUCT_DETAILS[id];
    container.innerHTML = `
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.25rem;align-items:start">
        <div>
          <img src="${p.image}" alt="${p.name}" style="width:100%;border-radius:12px;object-fit:cover;max-height:520px">
        </div>
        <div>
          <h2 style="font-family:Playfair Display,serif">${p.name}</h2>
          ${p.description}
          <p style="font-weight:700;font-size:1.25rem;margin-top:12px">${p.price} MXN</p>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="btn add" data-id="${id}">Agregar al carrito</button>
            <a class="btn ghost" href="checkout.html">Comprar ahora</a>
          </div>
        </div>
      </div>
    `;
    const btn = document.querySelector('.add');
    if(btn) btn.addEventListener('click', ()=> addToCart(id));
  } else {
    container.innerHTML = `<p>Producto no encontrado.</p>`;
  }
})();
